<mat-toolbar color="primary" class="app-toolbar">
  <span class="logo" (click)="goHome()">
    <mat-icon>directions_bus</mat-icon>
    BusYatra
  </span>

  <span style="flex: 1;"></span>

  <nav class="nav-links">
    <button mat-button routerLink="/home" matTooltip="Find buses">
      <mat-icon>home</mat-icon>
      <span class="button-text">Home</span>
    </button>

    <button mat-raised-button color="accent" (click)="openLogin()" 
            *ngIf="!isAuthenticated">
      <mat-icon>login</mat-icon>
      <span class="button-text">Login / Register</span>
    </button>

    <div *ngIf="isAuthenticated">
      <button mat-button [matMenuTriggerFor]="userMenu">
        <mat-icon>person</mat-icon>
        <span class="button-text">{{ currentUser?.email || currentUser?.name || 'User' }}</span>
        <mat-icon>arrow_drop_down</mat-icon>
      </button>
      <mat-menu #userMenu="matMenu">
        <button mat-menu-item routerLink="/user/dashboard">
          <mat-icon>history</mat-icon>
          <span>My Bookings</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="logout()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </div>
  </nav>
</mat-toolbar>

<main class="main-content">
  <router-outlet></router-outlet>
</main>

<footer style="background: linear-gradient(90deg, var(--green), #0d5f0d); color: white; padding: 40px 20px; text-align: center; margin-top: 80px;">
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px; margin-bottom: 30px;">
      <div>
        <h3 style="color: var(--gold); margin-bottom: 20px;">ğŸšŒ BusYatra</h3>
        <p>Your trusted partner for comfortable bus travel across incredible India.</p>
      </div>
      <div>
        <h4 style="color: var(--gold); margin-bottom: 15px;">Quick Links</h4>
        <p routerLink="/home" style="cursor: pointer;">ğŸ  Home</p>
        <p routerLink="/user/dashboard" style="cursor: pointer;">ğŸ“‹ My Bookings</p>
      </div>
      <div>
        <h4 style="color: var(--gold); margin-bottom: 15px;">Popular Routes</h4>
        <p>ğŸ”ï¸ Delhi â†’ Manali</p>
        <p>ğŸŒŠ Mumbai â†’ Pune</p>
        <p>ğŸ›ï¸ Bangalore â†’ Chennai</p>
      </div>
    </div>
    <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px;">
      <p>&copy; 2025 BusYatra - Your journey across incredible India ğŸ‡®ğŸ‡³</p>
    </div>
  </div>
</footer>